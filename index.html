<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>SoundFix Acoustics Qld.</title>
<style>
  :root{
    --bg:#0c1c28; --bg-soft:#112535; --card:#173045; --text:#eaf2f7; --muted:#a9c0cf; --brand:#ff8a00;
    --radius:18px; --shadow:0 10px 28px rgba(0,0,0,.28)
  }
  *{box-sizing:border-box}
  html,body{margin:0; background:var(--bg); color:var(--text); font:16px/1.55 system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial}
  a{color:inherit; text-decoration:none}
  img{max-width:100%; height:auto; display:block}

  header{position:sticky; top:0; z-index:50; backdrop-filter:saturate(120%) blur(8px);
    background:rgba(12,28,40,.9); border-bottom:1px solid rgba(255,255,255,.06)}
  .wrap{max-width:1100px; margin:0 auto; padding:0 20px}
  .nav{display:flex; align-items:center; justify-content:space-between; gap:16px; height:72px}
  .brand{display:flex; align-items:center; gap:14px}
  .brand img{height:52px}
  .brand h1{margin:0; font-size:20px; letter-spacing:.2px}
  .links{display:flex; gap:18px}
  .links a{color:var(--muted); font-weight:600}
  .links a:hover{color:#fff}

  .hero{background:linear-gradient(180deg,rgba(0,0,0,.45),rgba(0,0,0,.55)),
    url("./images/WEB SITE DESIGN _ 1. SERVICES-008.jpg") center/cover no-repeat;
    border-radius:0 0 var(--radius) var(--radius); box-shadow:var(--shadow)}
  .hero-inner{max-width:1100px; margin:0 auto; padding:86px 20px 70px}
  .kicker{color:var(--brand); font-weight:800; letter-spacing:.25px; text-transform:uppercase;}
  .hero h2{margin:.25rem 0 1rem; font-size:44px; line-height:1.1}
  .hero p{max-width:760px; color:var(--muted); font-size:18px}

  .showcase{padding:46px 0}
  .carousel{background:var(--bg-soft); border-radius:var(--radius); box-shadow:var(--shadow);
    border:1px solid rgba(255,255,255,.06); overflow:hidden}
  .slide-area{position:relative}
  .slide-area img{width:100%; aspect-ratio:16/9; object-fit:cover; cursor:zoom-in}
  .controls{position:absolute; inset:0; display:flex; align-items:center; justify-content:space-between; padding:0 8px}
  .ctrl{background:rgba(0,0,0,.45); border:1px solid rgba(255,255,255,.1); color:#fff; width:42px; height:42px; border-radius:50%;
    display:grid; place-items:center; cursor:pointer; user-select:none}
  .ctrl:hover{background:rgba(0,0,0,.65)}
  .dots{display:flex; gap:8px; justify-content:center; padding:12px 0 6px}
  .dot{width:8px; height:8px; border-radius:50%; background:#62788a; opacity:.5; cursor:pointer}
  .dot.active{opacity:1; background:#cfe6f6}
  .text-carousel{border-top:1px solid rgba(255,255,255,.06); background:var(--card); padding:18px 18px 22px}
  .text-title{font-size:22px; margin:0 0 6px}
  .text-body{color:var(--muted); margin:0}

  section{padding:40px 0}
  h3{font-size:26px; margin:0 0 14px}
  .grid{display:grid; gap:12px; grid-template-columns:repeat(auto-fill,minmax(240px,1fr))}
  .card{background:var(--card); border-radius:14px; overflow:hidden; border:1px solid rgba(255,255,255,.06)}
  .card img{aspect-ratio:16/10; object-fit:cover; cursor:zoom-in}
  .hidden{display:none}
  .see-more{display:flex; justify-content:center; margin-top:14px}
  .btn{background:var(--brand); color:#111; border:none; padding:10px 16px; border-radius:999px; font-weight:800; cursor:pointer}
  .btn.secondary{background:transparent; color:#fff; border:1px solid rgba(255,255,255,.25)}

  .contact{background:var(--bg-soft); border-radius:var(--radius); box-shadow:var(--shadow);
    border:1px solid rgba(255,255,255,.06); padding:24px}
  .row{display:grid; grid-template-columns:1.1fr .9fr; gap:22px}
  @media (max-width:820px){ .hero h2{font-size:34px} .row{grid-template-columns:1fr} }
  footer{padding:36px 0; color:var(--muted); text-align:center}

  .lightbox{position:fixed; inset:0; background:rgba(0,0,0,.92); display:none; align-items:center; justify-content:center; z-index:1000}
  .lightbox.open{display:flex}
  .lightbox img{max-width:92vw; max-height:88vh; object-fit:contain}
  .lb-ctrl{position:fixed; top:50%; transform:translateY(-50%); width:56px; height:56px; border-radius:50%;
    display:grid; place-items:center; color:#fff; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18); cursor:pointer}
  .lb-prev{left:24px} .lb-next{right:24px}
  .lb-close{position:fixed; top:20px; right:20px; width:44px; height:44px; border-radius:50%;
    display:grid; place-items:center; color:#fff; background:rgba(255,255,255,.12); border:1px solid rgba(255,255,255,.22); cursor:pointer}
  .lb-cap{position:fixed; bottom:18px; left:50%; transform:translateX(-50%); color:#cfd9e1; font-size:14px; text-align:center; padding:6px 10px; background:rgba(255,255,255,.08); border-radius:10px}
</style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <img src="./Logo.png" alt="SoundFix logo" />
      </div>
      <nav class="links">
        <a href="#showcase">Examples</a>
        <a href="#gallery">Gallery</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <div class="hero">
  <div class="hero-inner">
    <h2 class="kicker">We solve noise problems</h2>
    <h4>Education, Preschool, Workplace, Retail & Hospitality, Community & Residential, Venues</h4>
    <p>Over 40 years combined experience of work in<br>Architecture, Construction, Acoustic Design and Installation.</p>
  </div>
</div>

  <main class="wrap">
    <section id="showcase" class="showcase">
      <h3>Showcase (swipe or use arrows)</h3>
      <div class="carousel" id="carousel">
        <div class="slide-area">
          <img id="slide-img" src="" alt="Project image">
          <div class="controls">
            <div class="ctrl" id="prev" aria-label="Previous">‚Äπ</div>
            <div class="ctrl" id="next" aria-label="Next">‚Ä∫</div>
          </div>
        </div>
        <div class="dots" id="dots"></div>
        <div class="text-carousel">
          <h4 class="text-title" id="slide-title"></h4>
          <p class="text-body" id="slide-body"></p>
        </div>
      </div>
    </section>

    <!-- Gallery with 'Show more' -->
    <section id="gallery">
      <h3>Gallery</h3>
      <div class="grid" id="gallery-grid"></div>
      <div class="see-more">
        <button class="btn" id="toggle-more">Show more</button>
      </div>
    </section>

    <section id="contact" class="contact">
      <h3>Contact</h3>
      <div class="row">
        <div>
          <p style="color:var(--muted); margin-top:0">Talk to Milan about your space and budget. Quick quotes, site visits and layout suggestions.</p>
          <ul style="list-style:none; padding:0; margin:0; color:var(--text); font-weight:700">
            <li>üìû 0415 158 477</li>
            <li>‚úâÔ∏è info@soundfix-qld.com.au</li>
            <li>üåê soundfix-qld.com.au</li>
          </ul>
          <div style="margin-top:18px; display:flex; gap:10px; flex-wrap:wrap">
            <a class="btn" href="tel:0415158477">Call now</a>
            <a class="btn secondary" href="mailto:info@soundfix-qld.com.au?subject=SoundFix%20Enquiry">Email us</a>
          </div>
        </div>
        <div>
          <img src="./dd8a42d2-fbfd-4c77-808d-1481e87acad2.png" alt="SoundFix contact card"
               style="border-radius:12px; border:1px solid rgba(255,255,255,.08)" />
        </div>
      </div>
    </section>
  </main>

  <footer>¬© <span id="y"></span> SoundFix Acoustics Qld.</footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <div class="lb-ctrl lb-prev" id="lbPrev" aria-label="Previous">‚Äπ</div>
    <img id="lbImg" alt="">
    <div class="lb-ctrl lb-next" id="lbNext" aria-label="Next">‚Ä∫</div>
    <div class="lb-close" id="lbClose" aria-label="Close">‚úï</div>
    <div class="lb-cap" id="lbCap"></div>
  </div>

<script>
  document.getElementById('y').textContent = new Date().getFullYear();

  // ----- Slides -----
  const slides = [
    { src:"./images/WEB SITE DESIGN _ 5. RETAIL & HOSPITALITY_-000.jpg", title:"Retail & hospitality", body:"Reduce clatter and improve speech clarity so patrons stay longer and staff communicate easily." },
    { src:"./images/WEB SITE DESIGN _ 8. WORK PLACE-001.jpg", title:"Workplace focus", body:"Ceiling layouts tuned to reduce distractions and boost meeting intelligibility across open-plan floors." },
    { src:"./images/WEB SITE DESIGN _ 12. PRESCHOOL 2-001.jpg", title:"Early learning clarity", body:"Kinder & preschool rooms designed for calmer sound, clearer instruction and happier kids." },
    { src:"./images/WEB SITE DESIGN _ 18. VENUES-000.jpg", title:"Large venues", body:"Scalable panel systems for halls and gyms‚Äîbig reductions in reverberation without visual clutter." },
    { src:"./images/WEB SITE DESIGN _ 6. RETAIL & HOSPITALITY 2-001.jpg", title:"Custom layouts", body:"Geometric or organic patterns to suit architecture‚Äîperformance first, aesthetics intact." },
    { src:"./images/WEB SITE DESIGN _ 4. PRODUCTS-002.jpg", title:"Expanded melamine panels", body:"Lightweight, Class 1 fire rating, cut to shape. Clean installs with minimal disruption." }
  ];

  // ----- Full gallery list -----
  const galleryImages = [
    "WEB SITE DESIGN _ 1. SERVICES-008.jpg",
    "WEB SITE DESIGN _ 2. SERVICES 2-000.jpg",
    "WEB SITE DESIGN _ 2. SERVICES 2-001.jpg",
    "WEB SITE DESIGN _ 3. SERVICES 3-000.jpg",
    "WEB SITE DESIGN _ 4. PRODUCTS-000.jpg", // <- the one that was failing
    "WEB SITE DESIGN _ 4. PRODUCTS-002.jpg",
    "WEB SITE DESIGN _ 5. RETAIL & HOSPITALITY_-000.jpg",
    "WEB SITE DESIGN _ 5. RETAIL & HOSPITALITY_-001.jpg",
    "WEB SITE DESIGN _ 6. RETAIL & HOSPITALITY 2-000.jpg",
    "WEB SITE DESIGN _ 6. RETAIL & HOSPITALITY 2-001.jpg",
    "WEB SITE DESIGN _ 7. REATIL & HOSPITALITY 3-000.jpg",
    "WEB SITE DESIGN _ 7. REATIL & HOSPITALITY 3-001.jpg",
    "WEB SITE DESIGN _ 8. WORK PLACE-000.jpg",
    "WEB SITE DESIGN _ 8. WORK PLACE-001.jpg",
    "WEB SITE DESIGN _ 9. WORK PLACE 2-000.jpg",
    "WEB SITE DESIGN _ 9. WORK PLACE 2-001.jpg",
    "WEB SITE DESIGN _ 10. WORK PLACE 3-000.jpg",
    "WEB SITE DESIGN _ 10. WORK PLACE 3-001.jpg",
    "WEB SITE DESIGN _ 11. PRESCHOOL-000.jpg",
    "WEB SITE DESIGN _ 11. PRESCHOOL-001.jpg",
    "WEB SITE DESIGN _ 12. PRESCHOOL 2-000.jpg",
    "WEB SITE DESIGN _ 12. PRESCHOOL 2-001.jpg",
    "WEB SITE DESIGN _ 13. PRESCHOOL 3-000.jpg",
    "WEB SITE DESIGN _ 13. PRESCHOOL 3-002.jpg",
    "WEB SITE DESIGN _ 18. VENUES-000.jpg",
    "WEB SITE DESIGN _ 18. VENUES-001.jpg",
    "WEB SITE DESIGN _ 19. VENUES 2-000.jpg",
    "WEB SITE DESIGN _ 19. VENUES 2-001.jpg",
    "WEB SITE DESIGN _ 20. VENUES 3-000.jpg",
    "WEB SITE DESIGN _ 20. VENUES 3-001.jpg",
  ].map(n => `./images/${n}`);

  // ----- Render gallery with first row visible only -----
  const grid = document.getElementById('gallery-grid');
  const firstRowCount = 4; // initial visible items

  galleryImages.forEach((src, idx) => {
    const card = document.createElement('div');
    card.className = 'card' + (idx >= firstRowCount ? ' hidden more' : '');
    const img = document.createElement('img');

    // Robust loader: try original -> .PNG -> .jpg if load fails
    const candidates = [src, src.replace(/\.png$/i,'.PNG'), src.replace(/\.(png|PNG)$/i,'.jpg')];
    let tryIdx = 0;
    function tryLoad(){
      img.src = encodeURI(candidates[tryIdx]);
    }
    img.alt = `Gallery image ${idx+1}`;
    img.loading = 'lazy';
    img.onerror = () => {
      tryIdx++;
      if (tryIdx < candidates.length) tryLoad();
    };
    img.onload = () => { /* loaded OK */ };
    tryLoad();

    img.addEventListener('click', () => openLightbox(idx));
    card.appendChild(img);
    grid.appendChild(card);
  });

  // Show more / less
  const toggleBtn = document.getElementById('toggle-more');
  let expanded = false;
  toggleBtn.addEventListener('click', () => {
    expanded = !expanded;
    document.querySelectorAll('.more').forEach(el => el.classList.toggle('hidden', !expanded));
    toggleBtn.textContent = expanded ? 'Show less' : 'Show more';
  });

  // ----- Carousel wiring -----
  const imgEl = document.getElementById('slide-img');
  const titleEl = document.getElementById('slide-title');
  const bodyEl = document.getElementById('slide-body');
  const dotsEl = document.getElementById('dots');
  let i = 0, autoTimer;

  function render() {
    imgEl.src = encodeURI(slides[i].src);
    imgEl.alt = slides[i].title;
    titleEl.textContent = slides[i].title;
    bodyEl.textContent = slides[i].body;
    [...dotsEl.children].forEach((d,idx)=>d.classList.toggle('active', idx===i));
  }
  function go(n){ i=(i+n+slides.length)%slides.length; render(); resetAuto(); }
  function jump(n){ i=n; render(); resetAuto(); }

  slides.forEach((_, idx)=>{
    const d=document.createElement('div');
    d.className='dot'+(idx===0?' active':'');
    d.addEventListener('click', ()=>jump(idx));
    dotsEl.appendChild(d);
  });

  document.getElementById('prev').onclick = ()=>go(-1);
  document.getElementById('next').onclick = ()=>go(1);

  // open lightbox from carousel image as well
  imgEl.addEventListener('click', ()=> {
    const idx = galleryImages.findIndex(g => slides[i].src.endsWith(g.replace('./images/','')));
    openLightbox(idx >= 0 ? idx : 0);
  });

  // swipe on carousel
  let sx=null;
  imgEl.addEventListener('touchstart',e=>sx=e.touches[0].clientX,{passive:true});
  imgEl.addEventListener('touchend',e=>{
    if(sx===null) return;
    const dx = e.changedTouches[0].clientX - sx;
    if(Math.abs(dx)>40) go(dx<0?1:-1);
    sx=null;
  });

  function resetAuto(){ clearInterval(autoTimer); autoTimer=setInterval(()=>go(1), 60000); }
  render(); resetAuto();

  // ----- Lightbox -----
  const lb = document.getElementById('lightbox');
  const lbImg = document.getElementById('lbImg');
  const lbCap = document.getElementById('lbCap');
  const lbPrev = document.getElementById('lbPrev');
  const lbNext = document.getElementById('lbNext');
  const lbClose = document.getElementById('lbClose');
  let lbIndex = 0;

  function openLightbox(index){
    lbIndex = (index||0);
    updateLB();
    lb.classList.add('open');
    document.body.style.overflow='hidden';
  }
  function closeLightbox(){
    lb.classList.remove('open');
    document.body.style.overflow='';
  }
  function navLB(n){
    lbIndex = (lbIndex + n + galleryImages.length) % galleryImages.length;
    updateLB();
  }
  function updateLB(){
    const src = galleryImages[lbIndex];
    lbImg.src = encodeURI(src);
    lbCap.textContent = src.replace('./images/','');
  }

  lbPrev.addEventListener('click', ()=>navLB(-1));
  lbNext.addEventListener('click', ()=>navLB(1));
  lbClose.addEventListener('click', closeLightbox);
  lb.addEventListener('click', (e)=>{ if(e.target===lb) closeLightbox(); });

  window.addEventListener('keydown', (e)=>{
    if(!lb.classList.contains('open')) return;
    if(e.key==='Escape') closeLightbox();
    if(e.key==='ArrowLeft') navLB(-1);
    if(e.key==='ArrowRight') navLB(1);
  });

  // swipe in lightbox
  let lbx=null;
  lbImg.addEventListener('touchstart',e=>lbx=e.touches[0].clientX,{passive:true});
  lbImg.addEventListener('touchend',e=>{
    if(lbx===null) return;
    const dx = e.changedTouches[0].clientX - lbx;
    if(Math.abs(dx)>40) navLB(dx<0?1:-1);
    lbx=null;
  });
</script>
</body>
</html>


